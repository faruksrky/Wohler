import{Z as _,an as oe,ao as re,r as d,ap as ce,aq as ue,Y as de,j as t,$ as me,ar as pe,a0 as fe,ac as ge,Q as be,X as xe,u as ye,b as he,e as Se,B as $e,I as ve,c as Ge,d as Ne,F as je}from"./index-TKpjailX.js";import{n as ke,z as N,i as we,u as Oe,t as _e,a as Ce,F as j,L as Ee}from"./form-provider-BoU6K9RY.js";import{s as Pe,a as Te,S as qe,M as Be}from"./Snackbar-oRTX2Wpt.js";const Me=(e,s)=>e.filter(n=>s.includes(n)),k=(e,s,n)=>{const i=e.keys[0];Array.isArray(s)?s.forEach((l,a)=>{n((o,u)=>{a<=e.keys.length-1&&(a===0?Object.assign(o,u):o[e.up(e.keys[a])]=u)},l)}):s&&typeof s=="object"?(Object.keys(s).length>e.keys.length?e.keys:Me(e.keys,Object.keys(s))).forEach(a=>{if(e.keys.indexOf(a)!==-1){const o=s[a];o!==void 0&&n((u,f)=>{i===a?Object.assign(u,f):u[e.up(a)]=f},o)}}):(typeof s=="number"||typeof s=="string")&&n((l,a)=>{Object.assign(l,a)},s)};function p(e){return e?`Level${e}`:""}function C(e){return e.unstable_level>0&&e.container}function K(e){return function(n){return`var(--Grid-${n}Spacing${p(e.unstable_level)})`}}function M(e){return function(n){return e.unstable_level===0?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${p(e.unstable_level-1)})`}}function z(e){return e.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${p(e.unstable_level-1)})`}const ze=({theme:e,ownerState:s})=>{const n=K(s),i={};return k(e.breakpoints,s.gridSize,(l,a)=>{let o={};a===!0&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / ${z(s)}${C(s)?` + ${n("column")}`:""})`}),l(i,o)}),i},Ae=({theme:e,ownerState:s})=>{const n={};return k(e.breakpoints,s.gridOffset,(i,l)=>{let a={};l==="auto"&&(a={marginLeft:"auto"}),typeof l=="number"&&(a={marginLeft:l===0?"0px":`calc(100% * ${l} / ${z(s)})`}),i(n,a)}),n},De=({theme:e,ownerState:s})=>{if(!s.container)return{};const n=C(s)?{[`--Grid-columns${p(s.unstable_level)}`]:z(s)}:{"--Grid-columns":12};return k(e.breakpoints,s.columns,(i,l)=>{i(n,{[`--Grid-columns${p(s.unstable_level)}`]:l})}),n},Re=({theme:e,ownerState:s})=>{if(!s.container)return{};const n=M(s),i=C(s)?{[`--Grid-rowSpacing${p(s.unstable_level)}`]:n("row")}:{};return k(e.breakpoints,s.rowSpacing,(l,a)=>{var o;l(i,{[`--Grid-rowSpacing${p(s.unstable_level)}`]:typeof a=="string"?a:(o=e.spacing)==null?void 0:o.call(e,a)})}),i},Le=({theme:e,ownerState:s})=>{if(!s.container)return{};const n=M(s),i=C(s)?{[`--Grid-columnSpacing${p(s.unstable_level)}`]:n("column")}:{};return k(e.breakpoints,s.columnSpacing,(l,a)=>{var o;l(i,{[`--Grid-columnSpacing${p(s.unstable_level)}`]:typeof a=="string"?a:(o=e.spacing)==null?void 0:o.call(e,a)})}),i},Fe=({theme:e,ownerState:s})=>{if(!s.container)return{};const n={};return k(e.breakpoints,s.direction,(i,l)=>{i(n,{flexDirection:l})}),n},Ie=({ownerState:e})=>{const s=K(e),n=M(e);return _({minWidth:0,boxSizing:"border-box"},e.container&&_({display:"flex",flexWrap:"wrap"},e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},{margin:`calc(${s("row")} / -2) calc(${s("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${s("row")} * -1) 0px 0px calc(${s("column")} * -1)`}),(!e.container||C(e))&&_({padding:`calc(${n("row")} / 2) calc(${n("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${n("row")} 0px 0px ${n("column")}`}))},Ke=e=>{const s=[];return Object.entries(e).forEach(([n,i])=>{i!==!1&&i!==void 0&&s.push(`grid-${n}-${String(i)}`)}),s},We=(e,s="xs")=>{function n(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(n(e))return[`spacing-${s}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const i=[];return Object.entries(e).forEach(([l,a])=>{n(a)&&i.push(`spacing-${l}-${String(a)}`)}),i}return[]},Ve=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([s,n])=>`direction-${s}-${n}`):[`direction-xs-${String(e)}`],He=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],Qe=oe(),Xe=re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,s)=>s.root});function Ye(e){return pe({props:e,name:"MuiGrid",defaultTheme:Qe})}function Ze(e={}){const{createStyledComponent:s=Xe,useThemeProps:n=Ye,componentName:i="MuiGrid"}=e,l=d.createContext(void 0),a=(f,r)=>{const{container:h,direction:S,spacing:w,wrap:g,gridSize:$}=f,x={root:["root",h&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...Ve(S),...Ke($),...h?We(w,r.breakpoints.keys[0]):[]]};return fe(x,v=>ge(i,v),{})},o=s(De,Le,Re,ze,Fe,Ie,Ae),u=d.forwardRef(function(r,h){var S,w,g,$,x,v,m,b;const P=ce(),W=n(r),T=ue(W),E=d.useContext(l),{className:V,children:H,columns:Q=12,container:X=!1,component:Y="div",direction:Z="row",wrap:J="wrap",spacing:q=0,rowSpacing:U=q,columnSpacing:ee=q,disableEqualOverflow:A,unstable_level:y=0}=T,se=de(T,He);let O=A;y&&A!==void 0&&(O=r.disableEqualOverflow);const D={},R={},L={};Object.entries(se).forEach(([c,G])=>{P.breakpoints.values[c]!==void 0?D[c]=G:P.breakpoints.values[c.replace("Offset","")]!==void 0?R[c.replace("Offset","")]=G:L[c]=G});const ne=(S=r.columns)!=null?S:y?void 0:Q,ae=(w=r.spacing)!=null?w:y?void 0:q,ie=(g=($=r.rowSpacing)!=null?$:r.spacing)!=null?g:y?void 0:U,le=(x=(v=r.columnSpacing)!=null?v:r.spacing)!=null?x:y?void 0:ee,F=_({},T,{level:y,columns:ne,container:X,direction:Z,wrap:J,spacing:ae,rowSpacing:ie,columnSpacing:le,gridSize:D,gridOffset:R,disableEqualOverflow:(m=(b=O)!=null?b:E)!=null?m:!1,parentDisableEqualOverflow:E}),te=a(F,P);let B=t.jsx(o,_({ref:h,as:Y,ownerState:F,className:me(te.root,V)},L,{children:d.Children.map(H,c=>{if(d.isValidElement(c)&&ke(c,["Grid"])){var G;return d.cloneElement(c,{unstable_level:(G=c.props.unstable_level)!=null?G:y+1})}return c})}));return O!==void 0&&O!==(E??!1)&&(B=t.jsx(l.Provider,{value:O,children:B})),B});return u.muiName="Grid",u}const I=Ze({createStyledComponent:be("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,s)=>s.root}),componentName:"MuiGrid2",useThemeProps:e=>xe({props:e,name:"MuiGrid2"})}),Je=N.object({userName:N.string().min(1,{message:"Kullanıcı adı bilgisi gereklidir!"}),firstName:N.string().min(1,{message:"Ad bilgisi gereklidir!"}),lastName:N.string().min(1,{message:"Soyad bilgisi gereklidir!"}),email:N.string().min(1,{message:"Email bilgisi gereklidir!"}).email({message:"Geçerli bir mail adresi girilmelidir!"}),phoneNumber:Pe.phoneNumber({isValidPhoneNumber:we}),password:N.string().min(6,{message:"Şifre en az 6 karakter uzunluğunda olmalıdır!"})});function ns({currentUser:e}){ye();const[s,n]=d.useState(!1),[i,l]=d.useState(""),[a,o]=d.useState("success"),u=d.useMemo(()=>({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",password:(e==null?void 0:e.password)||"",userName:(e==null?void 0:e.userName)||""}),[e]),f=Oe({mode:"onSubmit",resolver:_e(Je),defaultValues:u}),r=he(),{reset:h,watch:S,control:w,handleSubmit:g,formState:{isSubmitting:$}}=f;S();const x=(m,b)=>{b!=="clickaway"&&n(!1)},v=g(async m=>{try{await Se({userName:m.email,email:m.email,password:m.password,firstName:m.firstName,lastName:m.lastName}),l("Kullanıcı başarıyla kaydedildi."),o("success"),n(!0),h()}catch(b){console.log("error",b),b.response&&b.response.status===409?l("Bu e-posta adresi veya kullanıcı adı zaten kullanımda."):l("Kullanıcı kaydedilemedi, lütfen tekrar deneyin."),o("error"),n(!0)}});return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{methods:f,onSubmit:g(v),children:t.jsx(I,{container:!0,spacing:3,children:t.jsx(I,{xs:12,md:5,children:t.jsxs(Te,{sx:{p:3},children:[t.jsxs($e,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},children:[t.jsx(j.Text,{name:"userName",label:"Kullanıcı Adı"}),t.jsx(j.Text,{name:"firstName",label:"Ad"}),t.jsx(j.Text,{name:"lastName",label:"Soyad"}),t.jsx(j.Text,{name:"email",label:"Email"}),t.jsx(j.Phone,{name:"phoneNumber",label:"Telefon"}),t.jsx(j.Text,{name:"password",label:"Şifre",placeholder:"6+ karakter",type:r.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:t.jsx(ve,{position:"end",children:t.jsx(Ge,{onClick:r.onToggle,edge:"end",children:t.jsx(Ne,{icon:r.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),t.jsx(je,{alignItems:"flex-end",sx:{mt:1},children:t.jsx(Ee,{type:"submit",variant:"contained",loading:$,children:e?"Değişiklikleri Kaydet":"Kullanıcı Oluştur"})})]})})})}),t.jsx(qe,{open:s,autoHideDuration:6e3,onClose:x,children:t.jsx(Be,{onClose:x,severity:a,sx:{width:"100%"},children:i})})]})}export{ns as U};
