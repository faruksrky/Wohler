import{j as e,B as g,T as P,u as f,a as v,r as L,b as z,I as E,c as F,d as b,A,L as N,R as T,p as I}from"./index-BalJt-EG.js";import{z as r,u as j,F as u,L as w,a as y,t as k}from"./form-provider-C6f3T22E.js";import{s as R,a as D,r as G,P as C}from"./new-password-icon-BT1ypAhJ.js";function S({sx:s,icon:i,title:a,description:n,...t}){return e.jsxs(e.Fragment,{children:[i&&e.jsx(g,{component:"span",display:"inline-flex",sx:{mx:"auto",mb:3},children:i}),e.jsxs(g,{gap:1.5,display:"flex",flexDirection:"column",sx:{mb:5,textAlign:"center",whiteSpace:"pre-line",...s},...t,children:[e.jsx(P,{variant:"h5",children:a}),n&&e.jsx(P,{variant:"body2",sx:{color:"text.secondary"},children:n})]})]})}const H=r.object({username:r.string().min(1,{message:"Email bilgisi gereklidir!"}).email({message:"Geçerli bir Email adresi girilmelidir!"}),password:r.string().min(1,{message:"Şifre bilgisi gereklidir!"}).min(6,{message:"Şifre 6 karakterden oluşmalıdır!"})});function O(){const s=f(),{checkUserSession:i}=v(),[a,n]=L.useState(""),t=z(),m={username:"",password:""},d=j({resolver:k(H),defaultValues:m}),{handleSubmit:p,formState:{isSubmitting:c}}=d,x=p(async o=>{try{await R({username:o.username,password:o.password}),await(i==null?void 0:i()),s.refresh()}catch(l){console.error(l),n(typeof l=="string"?l:l.message)}}),h=e.jsxs(g,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(u.Text,{name:"username",label:"Email",InputLabelProps:{shrink:!0}}),e.jsx(g,{gap:1.5,display:"flex",flexDirection:"column",children:e.jsx(u.Text,{name:"password",label:"Şifre",placeholder:"6+ characters",type:t.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(F,{onClick:t.onToggle,edge:"end",children:e.jsx(b,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})}),e.jsx(w,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:c,loadingIndicator:"Giriş Yapılıyor...",children:"Giriş"})]});return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Kullanıcı Girişi",sx:{textAlign:{xs:"center",md:"left"}}}),!!a&&e.jsx(A,{severity:"error",sx:{mb:3},children:a}),e.jsx(y,{methods:d,onSubmit:x,children:h})]})}function V({sx:s,...i}){return null}const B=r.object({firstName:r.string().min(1,{message:"Ad bilgisi gereklidir!"}),lastName:r.string().min(1,{message:"Soyad bilgisi gereklidir!"}),email:r.string().min(1,{message:"Email bilgisi gereklidir!"}).email({message:"Geçerli bir Email adresi girilmelidir!"}),password:r.string().min(1,{message:"Şifre bilgisi gereklidir!"}).min(6,{message:"Şifre en az 6 karakterden oluşmalıdır!"})});function $(){const{checkUserSession:s}=v(),i=f(),a=z(),[n,t]=L.useState(""),m={firstName:"",lastName:"",email:"",password:""},d=j({resolver:k(B),defaultValues:m}),{handleSubmit:p,formState:{isSubmitting:c}}=d,x=p(async o=>{try{await D({username:o.email,email:o.email,password:o.password,firstName:o.firstName,lastName:o.lastName}),await(s==null?void 0:s()),i.refresh()}catch(l){console.error(l),t(typeof l=="string"?l:l.message)}}),h=e.jsxs(g,{gap:3,display:"flex",flexDirection:"column",children:[e.jsxs(g,{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"},children:[e.jsx(u.Text,{name:"firstName",label:"Ad",InputLabelProps:{shrink:!0}}),e.jsx(u.Text,{name:"lastName",label:"Soyad",InputLabelProps:{shrink:!0}})]}),e.jsx(u.Text,{name:"email",label:"Email",InputLabelProps:{shrink:!0}}),e.jsx(u.Text,{name:"password",label:"Şifre",placeholder:"6+ karakter",type:a.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(F,{onClick:a.onToggle,edge:"end",children:e.jsx(b,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(w,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:c,loadingIndicator:"Hesap oluştur...",children:"Hesap Oluştur"})]});return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Direct Nexus Hesap Oluşturma",description:"Hesap oluşturarak Direct Nexus platformunu kullanmaya başlayabilirsiniz.",sx:{textAlign:{xs:"center",md:"left"}}}),!!n&&e.jsx(A,{severity:"error",sx:{mb:3},children:n}),e.jsx(y,{methods:d,onSubmit:x,children:h}),e.jsx(V,{})]})}function q({sx:s,href:i,children:a,label:n,icon:t,...m}){return e.jsxs(N,{component:T,href:i,color:"inherit",variant:"subtitle2",sx:{mt:3,gap:.5,mx:"auto",alignItems:"center",display:"inline-flex",...s},...m,children:[t||e.jsx(b,{width:16,icon:"eva:arrow-ios-back-fill"}),n||"Login sayfasına geri dön"]})}const M=r.object({email:r.string().min(1,{message:"Email adresi girilmelidir!"}).email({message:"Geçerli bir email adresi girilmelidir!"})});function K(){const s=f(),i={email:""},a=j({resolver:k(M),defaultValues:i}),{handleSubmit:n,formState:{isSubmitting:t}}=a,m=n(async p=>{try{await G({username:p.email});const c=new URLSearchParams({email:p.email}).toString(),x=`${I.auth.amplify.updatePassword}?${c}`;s.push(x)}catch(c){console.error(c)}}),d=e.jsxs(g,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(u.Text,{autoFocus:!0,name:"email",label:"Email Adres",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(w,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:t,loadingIndicator:"Gönderiliyor...",children:"Gönder"})]});return e.jsxs(e.Fragment,{children:[e.jsx(S,{icon:e.jsx(C,{}),title:"Şifrenizi mi unuttunuz ?",description:"Hesabınızla ilişkili e-posta adresinizi girin, size şifrenizi sıfırlamanız için bir bağlantı göndereceğiz.."}),e.jsx(y,{methods:a,onSubmit:m,children:d}),e.jsx(q,{href:I.auth.jwt.signIn})]})}r.object({code:r.string().min(1,{message:"Code is required!"}).min(6,{message:"Code must be at least 6 characters!"}),email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:r.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"}),confirmPassword:r.string().min(1,{message:"Confirm password is required!"})}).refine(s=>s.password===s.confirmPassword,{message:"Passwords do not match!",path:["confirmPassword"]});export{O as J,K as R,$ as a};
